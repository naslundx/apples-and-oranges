<html>
    <head>
        <title>Apples and oranges</title>
        <script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
        <link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600,700,900" rel="stylesheet" />
        <link href="assets/skeleton.css" rel="stylesheet" type="text/css" media="all" />
        <script src="assets/client-to-server.js"></script>
        <script src="assets/Sortable.js">
            var el = document.getElementById('items');
            var sortable = Sortable.create(el);
        </script>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-100880173-1', 'auto');
            ga('send', 'pageview');

        </script>
    </head>
    <body>

<!-- HEADER -->
LOGO <a href="/">Match up!</a> <a href="/about">About</a> <a href="/about#contact">Contact</a>


<!-- INFO -->
<h2>Can you pair up <%= first.title %> with <%= second.title %>?</h2>
<p>They don't have anything in common... or do they?</p>
<p>Drag to rearrange!</p>


<!-- LISTS -->
<div>
    <h3><%= first.title %></h3>
    <div id="firstList">
        <% for(var i=0; i < first.items.length; i++) { %>
            <div>
                <!--<img src= "assets/img/<%= first.items[i] %>.png"/>-->
                <%= first.items[i] %>
            </div>
        <% } %>
    </div>
</div>
				
<div>
    <h3><%= second.title %></h3>
    <div id="secondList">
        <% for(var i=0; i < second.items.length; i++) { %>
            <div>
                <!--<img src= "assets/img/<%= second.items[i] %>.png"/>-->
                <%= second.items[i] %>
            </div>
        <% } %>
    </div>
</div>
				
<form><button type="submit" class="button">Done</button></form>

<!-- ADD SORTABLE CONTAINERS -->
<script language="javascript">
    var firstId = <%= firstId %>;
    var secondId = <%= secondId %>;
    var firstIndices = [];
    var secondIndices = [];
    for (var i=0; i < <%= first.items.length %>; i++) { 
        firstIndices.push(i);
        secondIndices.push(i);
    }

    Sortable.create(firstList, { 
        animation: 150,
        onEnd: function (evt) {
            var temp = firstIndices[evt.newIndex];
            firstIndices[evt.newIndex] = firstIndices[evt.oldIndex];
            firstIndices[evt.oldIndex] = temp;
            console.log(firstIndices);
        }
    });
    Sortable.create(secondList, { 
        animation: 150,
        onEnd: function (evt) {
            var temp = secondList[evt.newIndex];
            secondList[evt.newIndex] = secondList[evt.oldIndex];
            secondList[evt.oldIndex] = temp;
        }
    });
</script>

<!-- FOOTER -->
<div id="">
    <p>&copy; 2017 Marcus NÃ¤slund. All rights reserved. | <a href="about">What is this?</a></p>
</div>
        
    </body>
</html>